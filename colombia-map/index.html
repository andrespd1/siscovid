<!DOCTYPE html>
<html>
  <head>
    <title>Embedding Vega-Lite</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.11.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.12.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
  </head>
  <body>
    <div id="vis"></div>

    <script type="text/javascript">
      vega.scheme( 'basic', [ '#e8e8e8', '#a0aae3', '#3c71dc' ] );

      var tooltipOptions = {
        "font": "Helvetica"
      };

      var spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
        "width": 300,
        "height": 400,
        "data": {
          "url": "departamentos.topo.json",
          "format": {
            "type": "topojson",
            "feature": "departamentos"
          }
        },
        "projection": {
          "type": "mercator"
        },
        "mark": {"type": "geoshape", "stroke": "gray"},
        "encoding": {
          "color": {
            "field": "properties.Casos",
            "type": "quantitative",
            "scale": {
              "scheme": "basic"
            },
            "legend": { 
              "title": "Casos activos",
              "titleFont": "Helvetica",
              "titleFontWeight": 400,
              "direction": "horizontal",
              "orient": "bottom",
              "gradientLength": 300,
              "offset": -5
            }
          },
          "tooltip": [
            {
              "field": "properties.departamento",
              "type": "nominal",
              "axis": { "title": "Departamento" }
            },
            {
              "field": "properties.Casos",
              "type": "quantitative",
              "axis": { "title": "Casos" }
            }
          ]
        },
        "config": {
          "style": {
            "cell": {
              "stroke": "transparent"
            }
          }
        }
      };
      vegaEmbed( '#vis', spec, { actions: false, tooltip: tooltipOptions } );
    </script>
  </body>
</html>